:root {
  --bg: #f4efe7;
  --panel: #fffaf2;
  --ink: #1f2937;
  --accent: #1f6feb;
  --warn: #b54708;
  --danger: #b42318;
  --line: #d4c7b5;
}

* { box-sizing: border-box; }
body { margin: 0; font-family: "IBM Plex Sans", "Avenir Next", sans-serif; color: var(--ink); background: radial-gradient(circle at top right, #fbf7ef, var(--bg)); }
button, input { font: inherit; }

.app-shell { min-height: 100vh; display: grid; grid-template-rows: auto 1fr; }
.topbar { display: flex; align-items: center; gap: 12px; padding: 12px 16px; border-bottom: 1px solid var(--line); background: color-mix(in srgb, var(--panel) 92%, white); }
.topbar h1 { margin: 0; text-transform: uppercase; letter-spacing: 0.08em; font-size: 15px; }
.remotes { display: flex; gap: 6px; flex-wrap: wrap; }
.remote-btn {
  border: 1px solid var(--line);
  background: #fff;
  color: #374151;
  border-radius: 999px;
  padding: 4px 10px;
  font-size: 12px;
  cursor: pointer;
}
.remote-btn:hover {
  border-color: color-mix(in srgb, var(--accent) 45%, var(--line));
  color: var(--accent);
}

.main-grid { display: grid; grid-template-columns: 1fr 280px 280px 360px; gap: 12px; padding: 12px; height: calc(100vh - 56px); }
.panes-row { display: flex; gap: 10px; overflow-x: auto; }
.pane { min-width: 360px; width: 420px; border: 1px solid var(--line); background: var(--panel); border-radius: 10px; display: grid; grid-template-rows: auto auto 1fr; }
.pane.active { outline: 2px solid color-mix(in srgb, var(--accent) 40%, transparent); }
.pane-toolbar { display: flex; gap: 6px; flex-wrap: wrap; padding: 8px; border-bottom: 1px solid var(--line); }
.pane-toolbar form { flex: 1; }
.pane-toolbar input { width: 100%; }
.pane-status, .pane-error { padding: 8px; font-size: 12px; }
.pane-error { color: var(--danger); }

.file-list { overflow: auto; padding: 8px; }
.file-row { display: flex; gap: 8px; align-items: center; padding: 4px; border-radius: 6px; }
.file-row:hover { background: #f5ede0; }
.entry-btn { all: unset; cursor: pointer; display: flex; gap: 8px; align-items: center; flex: 1; }

.queue-panel, .settings-panel, .diagnostics-panel { border: 1px solid var(--line); background: var(--panel); border-radius: 10px; padding: 10px; overflow: auto; }
.panel-head { display: flex; align-items: center; justify-content: space-between; gap: 8px; margin-bottom: 8px; }
.panel-head h3 { margin: 0; }
.panel-toggle { display: inline-flex; align-items: center; gap: 6px; font-size: 12px; color: #4b5563; user-select: none; }
.queue-items { display: grid; gap: 8px; }
.queue-item { border: 1px solid var(--line); border-radius: 8px; padding: 8px; background: #fff; }
.queue-top { display: flex; justify-content: space-between; font-size: 12px; }
.queue-meta { font-size: 12px; color: #6b7280; }
.fallback { color: var(--warn); font-size: 12px; }
.status-running { color: var(--accent); }
.status-failed { color: var(--danger); }
.status-success { color: #067647; }

.settings-panel label { display: grid; gap: 4px; margin-bottom: 8px; font-size: 12px; }

.diagnostics-header { display: grid; gap: 8px; margin-bottom: 8px; }
.diagnostics-header select { width: 100%; }
.diag-meta { display: grid; gap: 3px; font-size: 12px; color: #4b5563; margin-bottom: 8px; }
.diag-logs { border: 1px solid var(--line); background: #fff; border-radius: 8px; padding: 8px; max-height: 420px; overflow: auto; }
.diag-row { display: grid; grid-template-columns: 130px 64px 1fr; gap: 8px; font-size: 12px; padding: 4px 0; border-bottom: 1px dashed #ece4d9; }
.diag-row:last-child { border-bottom: 0; }
.diag-ts { color: #6b7280; }
.diag-level { text-transform: uppercase; letter-spacing: 0.05em; font-weight: 700; font-size: 10px; }
.diag-level-info { color: #155eef; }
.diag-level-warning { color: #b54708; }
.diag-level-error { color: #b42318; }
.diag-level-debug { color: #475467; }
.diag-empty { font-size: 12px; color: #6b7280; padding: 6px 0; }

.dialog-backdrop { position: fixed; inset: 0; background: rgba(0,0,0,0.28); display: grid; place-items: center; }
.dialog { width: min(480px, 92vw); border-radius: 10px; background: white; padding: 16px; border: 1px solid var(--line); }
.dialog-actions { display: flex; justify-content: flex-end; gap: 8px; }
.danger { background: var(--danger); color: white; border: 0; border-radius: 6px; padding: 6px 10px; }

@media (max-width: 1280px) {
  .main-grid { grid-template-columns: 1fr; grid-template-rows: minmax(380px, 1fr) auto auto; }
}
